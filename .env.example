# =============================================================================
# Raisin Next - Environment Variables
# =============================================================================
# Copy this file to .env and fill in the values
# NEVER commit .env to version control!

# =============================================================================
# DATABASE
# =============================================================================
# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=public
DATABASE_URL="postgresql://postgres:password@localhost:5432/donations_dev?schema=public"

# Production example (AWS RDS):
# DATABASE_URL="postgresql://admin:SecurePassword123@donations-db.cluster-xxx.us-east-1.rds.amazonaws.com:5432/donations?schema=public&connection_limit=10&pool_timeout=20"

# =============================================================================
# NEXTAUTH.JS CONFIGURATION
# =============================================================================

# NextAuth URL (required in production)
# Should match your deployment URL
NEXTAUTH_URL="http://localhost:3000"
# Production: NEXTAUTH_URL="https://donate.example.com"

# NextAuth Secret (REQUIRED - minimum 32 characters)
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET="your-super-secret-key-min-32-chars-long-please-change-this"

# =============================================================================
# EMAIL CONFIGURATION (for Magic Link authentication)
# =============================================================================

# SMTP Server Configuration
EMAIL_SERVER_HOST="smtp.sendgrid.net"
EMAIL_SERVER_PORT="587"
EMAIL_SERVER_USER="apikey"
EMAIL_SERVER_PASSWORD="your-sendgrid-api-key"

# From Address
EMAIL_FROM="noreply@example.com"

# Alternative providers:
# - SendGrid: smtp.sendgrid.net:587
# - Mailgun: smtp.mailgun.org:587
# - AWS SES: email-smtp.us-east-1.amazonaws.com:587
# - Gmail: smtp.gmail.com:587 (use app password)

# =============================================================================
# OAUTH PROVIDERS
# =============================================================================

# Google OAuth (https://console.cloud.google.com/apis/credentials)
GOOGLE_CLIENT_ID="your-google-client-id.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="your-google-client-secret"

# GitHub OAuth (https://github.com/settings/developers)
# For testing/development only
GITHUB_CLIENT_ID="your-github-client-id"
GITHUB_CLIENT_SECRET="your-github-client-secret"

# =============================================================================
# SYSTEM AUTHENTICATION
# =============================================================================

# System token for webhook and internal API authentication
# Generate with: openssl rand -hex 32
SYSTEM_TOKEN="your-system-token-for-webhooks-64-chars-long"

# =============================================================================
# PAYMENT PROCESSORS
# =============================================================================

# Stripe Configuration
STRIPE_SECRET_KEY="sk_test_..."
STRIPE_PUBLISHABLE_KEY="pk_test_..."
STRIPE_WEBHOOK_SECRET="whsec_..."

# Adyen Configuration
ADYEN_API_KEY="your-adyen-api-key"
ADYEN_MERCHANT_ACCOUNT="your-merchant-account"
ADYEN_CLIENT_KEY="your-client-key"
ADYEN_ENVIRONMENT="test" # or "live"

# PayPal Configuration
PAYPAL_CLIENT_ID="your-paypal-client-id"
PAYPAL_CLIENT_SECRET="your-paypal-client-secret"
PAYPAL_MODE="sandbox" # or "live"

# =============================================================================
# AWS SERVICES
# =============================================================================

# AWS Credentials (for S3, SES, etc.)
AWS_ACCESS_KEY_ID="your-aws-access-key"
AWS_SECRET_ACCESS_KEY="your-aws-secret-key"
AWS_REGION="us-east-1"

# S3 Configuration (for receipt PDFs, e-card images)
AWS_S3_BUCKET="donations-receipts"
AWS_S3_REGION="us-east-1"

# =============================================================================
# ANALYTICS & TRACKING
# =============================================================================

# Analytics Providers (optional)
# Segment Integration
NEXT_PUBLIC_SEGMENT_WRITE_KEY="your-segment-write-key"

# Google Analytics 4
NEXT_PUBLIC_GA_MEASUREMENT_ID="G-XXXXXXXXXX"

# Custom Analytics Endpoint (default: /api/analytics/track)
NEXT_PUBLIC_ANALYTICS_ENDPOINT="/api/analytics/track"

# Data Warehouse Export (optional)
ANALYTICS_WAREHOUSE_ENABLED="false"
ANALYTICS_WAREHOUSE_ENDPOINT="https://warehouse.example.com/import"
ANALYTICS_WAREHOUSE_API_KEY="your-warehouse-api-key"

# =============================================================================
# OPENTELEMETRY INSTRUMENTATION
# =============================================================================

# OpenTelemetry Configuration
OTEL_ENABLED="true"
OTEL_SERVICE_NAME="raisin-next"

# OTLP Exporter (CloudWatch, DataDog, etc.)
OTEL_EXPORTER_OTLP_ENDPOINT="https://your-otel-collector.com"
OTEL_EXPORTER_API_KEY="your-otel-api-key"

# Sampling Rate (0.0 to 1.0)
# 1.0 = 100% of traces, 0.1 = 10% of traces
OTEL_SAMPLE_RATE="1.0"

# =============================================================================
# OBSERVABILITY & MONITORING
# =============================================================================

# DataDog (optional)
DD_API_KEY="your-datadog-api-key"
DD_SITE="datadoghq.com"

# Sentry (optional)
SENTRY_DSN="https://your-sentry-dsn@sentry.io/project-id"
SENTRY_AUTH_TOKEN="your-sentry-auth-token"

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable/disable features
ENABLE_RECURRING_DONATIONS="true"
ENABLE_TRIBUTE_GIFTS="true"
ENABLE_ECARDS="true"
ENABLE_GDPR_TOOLS="true"

# =============================================================================
# RATE LIMITING & SECURITY
# =============================================================================

# Redis URL (for distributed rate limiting in production)
# REDIS_URL="redis://localhost:6379"
# REDIS_URL="redis://user:password@redis-host:6379"

# Account lockout configuration (override defaults)
# MAX_LOGIN_ATTEMPTS="5"
# LOCKOUT_DURATION_MINUTES="15"

# =============================================================================
# ENVIRONMENT
# =============================================================================

# Node environment
NODE_ENV="development"
# Options: development, test, production

# Public app URL (for emails, callbacks, etc.)
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# =============================================================================
# DEVELOPMENT ONLY
# =============================================================================

# Enable debug logging
# DEBUG="nextauth:*"

# Disable HTTPS requirement (development only)
# NEXTAUTH_INSECURE_COOKIES="true"
